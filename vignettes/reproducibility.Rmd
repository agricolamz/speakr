---
title: "Reproducible phonetic research"
author: "Stefano Coretta"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Reproducible phonetic research}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, echo=FALSE, include=FALSE}
library(tidyverse)
library(speakr)
```

`speakr` allows to run a Praat script from within R and, in combination with `knitr`, it allows dynamic phonetic reports.

```{r speakr, eval=FALSE}
library(speakr)
```

The function `praat_run` can be used to run a Praat script. If the script output is to the Info window (for example with `writeInfoLine`), you can specify the argument `capture = TRUE` to capture the argument in a string and read it as a tibble with `read_csv` (from the `dplyr` package).

```{r run}
# system.file() is needed here because the example files reside in the package.
# You can just include the file path directly in praat_run(), like 
# praat_run("~/Desktop/script.praat")
script <- system.file("extdata", "get-formants.praat", package = "speakr")

formants <- praat_run(script, "Hertz", 0.03, capture = TRUE) %>%
    read_csv()

formants
```

The `praat_run` function supports a list of optional argument to be passed to the script, if the script requires them for a form. In the call you see above, two arguments were specified: `Hertz` and `0.03`, which are passed to the form in the script. If you want to know more about the script itself, use `praat_open(script)`, which will open the script in Praat.
